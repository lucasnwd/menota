<!DOCTYPE html>
<html lang="pt-BR" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#2d5a2d">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="MeNota">
    
    <!-- Manifest -->
    <link rel="manifest" href="./manifest.json">
    
    <!-- Ícones para iOS -->
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="icon-192.png">    

    <title>MeNota</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <header class="header">
        <h1>MeNota</h1>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Buscar notas...">
            <button id="searchButton" title="Buscar">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                </svg>
            </button>
            <button id="categoriesFilterButton" class="filter-button" title="Filtrar categorias">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"/>
                </svg>
            </button>
            <div class="backup-buttons">
                <label for="importNotes" class="backup-button" title="Importar notas">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v2H5v-2z"/>
                    </svg>
                </label>
                <button id="exportNotes" class="backup-button" title="Exportar notas">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <main class="main-container">
        <!-- Criador de Notas -->
        <section class="note-creator compact" id="noteCreator">
             <input type="text" id="noteTitle" placeholder="Título" class="title-input">
    <div id="noteText" contenteditable="true" class="editable-content" placeholder="Escreva sua nota aqui... Use # para categorias"></div>
            
            <!-- Barra de Ferramentas -->
              <div class="formatting-container">
        <div class="formatting-toolbar">
            <button data-command="bold" type="button" title="Negrito"><b>B</b></button>
            <button data-command="italic" type="button" title="Itálico"><i>I</i></button>
            <button data-command="underline" type="button" title="Sublinhado"><u>S</u></button>
            <input type="color" id="noteColor" value="#2d5a2d" title="Cor da nota">
                    
                    <!-- Botão de upload de imagem (apenas ícone) -->
                   <label for="imageUpload" class="image-upload-button" title="Adicionar imagem">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
                </svg>
            </label>
            
            <input type="file" id="imageUpload" accept="image/*" style="display: none;">
            <input type="file" id="audioUpload" accept="audio/*" style="display: none;">
        </div>
        <button id="saveNote" class="save-button">Salvar</button>
    </div>
            
            <!-- Seções de Conteúdo -->
            <div class="content-sections-container">
                <!-- Todo List -->
                 <div class="todo-section">
            <div class="todo-header">
                <h4>Lista de Tarefas</h4>
                <button type="button" id="addTodoItem" class="add-todo-button">+ Adicionar</button>
            </div>
            <div class="todo-list" id="todoList"></div>
        </div>
        
        <!-- Links -->
        <div class="bottom-sections-container" id="bottomSections"></div>
    </div>
</section>

        <!-- Editor de Notas -->
        <section class="note-editor" id="noteEditor" style="display: none;">
            <h2>Editar Nota</h2>
            
            <input type="text" id="editNoteTitle" placeholder="Título da nota" class="title-input">
            <div id="editNoteText" contenteditable="true" class="editable-content" placeholder="Escreva sua nota aqui..."></div>
            
            <!-- Barra de Ferramentas -->
            <div class="formatting-container">
                <div class="formatting-toolbar">
                    <button data-command="bold" type="button" title="Negrito"><b>B</b></button>
                    <button data-command="italic" type="button" title="Itálico"><i>I</i></button>
                    <button data-command="underline" type="button" title="Sublinhado"><u>S</u></button>
                    <input type="color" id="editNoteColor" title="Cor da nota">
                </div>
                <div class="editor-buttons">
                    <button id="updateNote" class="save-button">Atualizar</button>
                    <button id="cancelEdit" class="cancel-button">Cancelar</button>
                    <button id="deleteNote" class="delete-button">Excluir</button>
                </div>
            </div>
            
            <!-- Seções de Conteúdo -->
            <div class="content-sections-container">
                <!-- Todo List -->
                <div class="todo-section">
                    <div class="todo-header">
                        <h4>Lista</h4>
                        <button type="button" id="addTodoItemEdit" class="add-todo-button">+ Adicionar</button>
                    </div>
                    <div class="todo-list" id="editTodoList"></div>
                </div>
                
                <!-- Links -->
                <div class="bottom-sections-container" id="editBottomSections"></div>
            </div>
        </section>

        <!-- Filtros e Grid -->
        <section class="categories-filter" id="categoriesFilter"></section>
        <section class="notes-grid" id="notesGrid"></section>
    </main>

    <!-- Modal de Categorias -->
    <div id="categoriesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Filtrar</h2>
                <button id="closeModal" class="close-button">&times;</button>
            </div>
            <div class="modal-body">
                <div class="categories-list" id="categoriesList"></div>
            </div>
            <div class="modal-footer">
                <button id="clearFilter" class="clear-filter-button">Limpar</button>
            </div>
        </div>
    </div>

    <input type="file" id="importNotes" accept=".csv,.json" style="display: none;">

    <script src="./script.js"></script>
</body>
</html>
